{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "metadata": {
    "_generator": {
      "name": "AzOps"
    }
  },
  "parameters": {},
  "variables": {},
  "resources": [
    {
      "type": "Microsoft.Resources/deploymentScripts",
      "name": "North-Star-setup-westeurope-ppNorthStar",
      "apiVersion": "2020-10-01",
      "location": "westeurope",
      "tags": null,
      "properties": {
        "azPowerShellVersion": "7.2",
        "arguments": "-PPGuestMakerSetting yes -PPAppSharingSetting yes -PPEnvCreationSetting yes -PPTrialEnvCreationSetting yes -PPEnvCapacitySetting yes -PPTenantDLP medium -PPTenantIsolationSetting none -PPTenantIsolationDomains '' -PPAdminEnvNaming jdadmin2 -PPAdminBilling yes -PPAdminRegion europe -PPAdminCoeSetting no -PPDefaultRenameText Personal -PPDefaultDLP yes -PPCitizen yes -PPCitizenCount 9 -PPCitizenNaming jdcit10 -PPCitizenRegion europe -PPCitizenDlp yes -PPCitizenBilling yes -PPCitizenAlm yes -PPPro yes -PPProCount 11 -PPProNaming jdpro1 -PPProRegion europe -PPProDlp yes -PPProBilling yes -PPProAlm yes -PPSelectIndustry none -PPIndustryNaming '' -PPIndustryRegion unitedstates -PPIndustryAlm no -PPIndustryBilling ''",
        "primaryScriptUri": "https://raw.githubusercontent.com/daltondhcp/Azure/nsppscript/nsPowerPlatform.ps1",
        "retentionInterval": "P1D",
        "timeout": "PT2H",
        "containerSettings": {},
        "status": {
          "containerInstanceId": "/subscriptions/fd23378b-9b7f-4f73-b216-4dc4d09ecde7/resourceGroups/North-Star-setup-westeurope/providers/Microsoft.ContainerInstance/containerGroups/kqldy5dgxxjtuazscripts",
          "storageAccountId": "/subscriptions/fd23378b-9b7f-4f73-b216-4dc4d09ecde7/resourceGroups/North-Star-setup-westeurope/providers/Microsoft.Storage/storageAccounts/kqldy5dgxxjtuazscripts",
          "error": {
            "code": "DeploymentScriptError",
            "message": "The provided script failed with multiple errors. First error:\r\nSystem.Management.Automation.ParameterBindingValidationException: Cannot validate argument on parameter 'Name'. The argument is null or empty. Provide an argument that is not null or empty, and then try the command again.\n ---> System.Management.Automation.ValidationMetadataException: The argument is null or empty. Provide an argument that is not null or empty, and then try the command again.\n   at System.Management.Automation.ValidateNotNullOrEmptyAttribute.Validate(Object arguments, EngineIntrinsics engineIntrinsics)\n   at System.Management.Automation.ParameterBinderBase.BindParameter(CommandParameterInternal parameter, CompiledCommandParameter parameterMetadata, ParameterBindingFlags flags)\n   --- End of inner exception stack trace ---\n   at System.Management.Automation.ExceptionHandlingOps.CheckActionPreference(FunctionContext funcContext, Exception exception)\n   at System.Management.Automation.Interpreter.ActionCallInstruction`2.Run(InterpretedFrame frame)\n   at System.Management.Automation.Interpreter.EnterTryCatchFinallyInstruction.Run(InterpretedFrame frame)\n   at System.Management.Automation.Interpreter.EnterTryCatchFinallyInstruction.Run(InterpretedFrame frame)\r\nat <ScriptBlock>, /mnt/azscripts/azscriptinput/nsPowerPlatform.ps1: line 263\r\nat <ScriptBlock>, <No file>: line 1\r\nat <ScriptBlock>, /mnt/azscripts/azscriptinput/DeploymentScript.ps1: line 237. Please refer to https://aka.ms/DeploymentScriptsTroubleshoot for more deployment script information.",
            "details": [
              {
                "code": "DeploymentScriptError",
                "message": "System.Management.Automation.ParameterBindingValidationException: Cannot validate argument on parameter 'Name'. The argument is null or empty. Provide an argument that is not null or empty, and then try the command again.\n ---> System.Management.Automation.ValidationMetadataException: The argument is null or empty. Provide an argument that is not null or empty, and then try the command again.\n   at System.Management.Automation.ValidateNotNullOrEmptyAttribute.Validate(Object arguments, EngineIntrinsics engineIntrinsics)\n   at System.Management.Automation.ParameterBinderBase.BindParameter(CommandParameterInternal parameter, CompiledCommandParameter parameterMetadata, ParameterBindingFlags flags)\n   --- End of inner exception stack trace ---\n   at System.Management.Automation.ExceptionHandlingOps.CheckActionPreference(FunctionContext funcContext, Exception exception)\n   at System.Management.Automation.Interpreter.ActionCallInstruction`2.Run(InterpretedFrame frame)\n   at System.Management.Automation.Interpreter.EnterTryCatchFinallyInstruction.Run(InterpretedFrame frame)\n   at System.Management.Automation.Interpreter.EnterTryCatchFinallyInstruction.Run(InterpretedFrame frame)\r\nat <ScriptBlock>, /mnt/azscripts/azscriptinput/nsPowerPlatform.ps1: line 263\r\nat <ScriptBlock>, <No file>: line 1\r\nat <ScriptBlock>, /mnt/azscripts/azscriptinput/DeploymentScript.ps1: line 237"
              },
              {
                "code": "DeploymentScriptError",
                "message": "System.Management.Automation.RuntimeException: Failed to deploy industry environment \r\nat <ScriptBlock>, /mnt/azscripts/azscriptinput/nsPowerPlatform.ps1: line 268\r\nat <ScriptBlock>, <No file>: line 1\r\nat <ScriptBlock>, /mnt/azscripts/azscriptinput/DeploymentScript.ps1: line 237"
              }
            ]
          }
        },
        "cleanupPreference": "Always"
      }
    }
  ],
  "outputs": {}
}
